<!--
  ~ Copyright (C) 2018. Technology Services at California State University, Fresno
  -->

<mat-toolbar class="header">
    <button mat-icon-button (click)="sidenav.toggle()">
        <mat-icon mat-list-icon>menu</mat-icon>
    </button>
    <span>{{appName}}</span>
    <div class="fill-remaining-space"></div>
    <div class="button-row">
        <button mat-icon-button [matMenuTriggerFor]="menuSettings">
            <mat-icon mat-list-icon>settings</mat-icon>
        </button>

        <button mat-icon-button (click)="gotoLogout()" *ngIf="loggedIn">
            <mat-icon mat-list-icon>power_settings_new</mat-icon>
        </button>
        <mat-menu #menuNew="matMenu" [overlapTrigger]="false">
            <button mat-menu-item (click)="gotoLogin()" *ngIf="!loggedIn">
                <mat-icon mat-list-icon>vpn_key</mat-icon>
                Login
            </button>
        </mat-menu>
        
        <mat-menu #menuSettings="matMenu" [overlapTrigger]="false">
            <button mat-menu-item>
                <mat-icon mat-list-icon>favorite</mat-icon>
                
            </button>
        </mat-menu>
        
    </div>
</mat-toolbar>
<mat-sidenav-container class="container">
    <mat-sidenav #sidenav mode="over" class="sidenav">
        <mat-list>
            <mat-nav-list>
                <a mat-list-item [routerLink]="'/dashboard'" routerLinkActive="active" (click)="sidenav.toggle(); setColor('dashboard')">
                 <mat-icon mat-list-icon color="{{getColor('dashboard')}}">home</mat-icon>
                 <span mat-line>Dashboard</span>
                </a>
                <a mat-list-item [routerLink]="'/create'" routerLinkActive="active" (click)="sidenav.toggle(); setColor('create')">
                    <mat-icon mat-list-icon color="{{getColor('create')}}">add_circle</mat-icon>
                    <span mat-line>Create Badge</span>
                </a>
                <a mat-list-item [routerLink]="'/issue'" routerLinkActive="active" (click)="sidenav.toggle(); setColor('issue')">
                    <mat-icon mat-list-icon color="{{getColor('issue')}}">assignment_ind</mat-icon>
                    <span mat-line>Issue Badge</span>
                </a>
                <a mat-list-item [routerLink]="'/revocations'" routerLinkActive="active" (click)="sidenav.toggle(); setColor('revocations')">
                    <mat-icon mat-list-icon color="{{getColor('revocations')}}">block</mat-icon>
                    <span mat-line>Revoke Certificate</span>
                </a>
                <a mat-list-item [routerLink]="'/admin'" routerLinkActive="active" (click)="sidenav.toggle(); setColor('admin')" *ngIf="isAdmin">
                 <mat-icon mat-list-icon color="{{getColor('admin')}}">person</mat-icon>
                 <span mat-line>Issuer Admin</span>
                </a>
                <a mat-list-item [routerLink]="'/owner'" routerLinkActive="active" (click)="sidenav.toggle(); setColor('owner')" *ngIf="isOwner">
                 <mat-icon mat-list-icon color="{{getColor('owner')}}">person</mat-icon>
                 <span mat-line>Issuer Management</span>
                </a>
            </mat-nav-list>
            <mat-divider></mat-divider>
            <h3 mat-subheader class="list-header">More</h3>
            <mat-nav-list>
                <a mat-list-item [routerLink]="'/about'" routerLinkActive="active" (click)="sidenav.toggle()">
                    <mat-icon mat-list-icon>info</mat-icon>
                    <span mat-line>About</span>
                </a>
                <a mat-list-item [routerLink]="'/help'" routerLinkActive="active" (click)="sidenav.toggle()">
                    <mat-icon mat-list-icon>help</mat-icon>
                    <span mat-line>Help</span>
                </a>
                <a mat-list-item [routerLink]="'/settings'" routerLinkActive="active" (click)="sidenav.toggle()">
                    <mat-icon mat-list-icon>settings</mat-icon>
                    <span mat-line>Settings</span>
                </a>
            </mat-nav-list>
        </mat-list>
    </mat-sidenav>
    <mat-sidenav-content>
        <router-outlet></router-outlet>
    </mat-sidenav-content>
</mat-sidenav-container>
<mat-toolbar class="footer">&copy; Technology Services</mat-toolbar>
